{"version":3,"sources":["webpack:///./src/components/tree/node.vue?b1bf","webpack:///./src/components/tree/tree.vue?89f1","webpack:///./src/components/tree/node.vue?47d7","webpack:///src/components/tree/node.vue","webpack:///./src/components/tree/node.vue?5724","webpack:///./src/components/tree/node.vue?babe","webpack:///src/components/tree/tree.vue","webpack:///./src/components/tree/tree.vue?39ca","webpack:///./src/components/tree/tree.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_node_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_node_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","_l","item","index","key","attrs","data","show-checkbox","showCheckbox","staticRenderFns","nodevue_type_template_id_2ae83919_render","staticClass","on","click","handleExpand","children","length","expand","_v","_e","value","checked","input","handleCheck","_s","title","nodevue_type_template_id_2ae83919_staticRenderFns","nodevue_type_script_lang_js_","name","components","iCheckbox","checkbox_checkbox","props","type","Object","default","Boolean","tree","assist","watch","data.children","handler","checkedAll","some","$set","deep","methods","emitEvent","updateTreeDown","_this","forEach","tree_nodevue_type_script_lang_js_","component","componentNormalizer","options","__file","node","treevue_type_script_lang_js_","TreeNode","Array","cloneData","created","rebuildData","eventName","$emit","tree_treevue_type_script_lang_js_","tree_component","__webpack_exports__"],"mappings":"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","file":"js/chunk-a45c64f4.5fcc5a5b.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./node.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./node.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.cloneData),function(item,index){return _c('tree-node',{key:index,attrs:{\"data\":item,\"show-checkbox\":_vm.showCheckbox}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"tree-ul\"},[_c('li',{staticClass:\"tree-li\"},[_c('span',{staticClass:\"tree-expand\",on:{\"click\":_vm.handleExpand}},[(_vm.data.children && _vm.data.children.length && !_vm.data.expand)?_c('span',[_vm._v(\"+\")]):_vm._e(),(_vm.data.children && _vm.data.children.length && _vm.data.expand)?_c('span',[_vm._v(\"-\")]):_vm._e()]),(_vm.showCheckbox)?_c('i-checkbox',{attrs:{\"value\":_vm.data.checked},on:{\"input\":_vm.handleCheck}}):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.data.title))]),_vm._l((_vm.data.children),function(item,index){return (_vm.data.expand)?_c('tree-node',{key:index,attrs:{\"data\":item,\"show-checkbox\":_vm.showCheckbox}}):_vm._e()})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul class=\"tree-ul\">\n    <li class=\"tree-li\">\n      <span class=\"tree-expand\"\n            @click=\"handleExpand\">\n        <span v-if=\"data.children && data.children.length && !data.expand\">+</span>\n        <span v-if=\"data.children && data.children.length && data.expand\">-</span>\n      </span>\n      <i-checkbox v-if=\"showCheckbox\"\n                  :value=\"data.checked\"\n                  @input=\"handleCheck\" />\n      <span>{{ data.title }}</span>\n      <tree-node v-if=\"data.expand\"\n                 v-for=\"(item, index) in data.children\"\n                 :key=\"index\"\n                 :data=\"item\"\n                 :show-checkbox=\"showCheckbox\"></tree-node>\n    </li>\n  </ul>\n</template>\n<script>\nimport iCheckbox from '../checkbox/checkbox.vue';\nimport { findComponentUpward } from '../../utils/assist.js';\nexport default {\n  name: 'TreeNode',\n  components: { iCheckbox },\n  props: {\n    data: {\n      type: Object,\n      default: () => ({})\n    },\n    showCheckbox: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      tree: findComponentUpward(this, 'Tree')\n    }\n  },\n   watch: {\n    'data.children': {\n      handler (data) {\n        if (data) {\n          const checkedAll = !data.some(item => !item.checked);\n          this.$set(this.data, 'checked', checkedAll);\n        }\n      },\n      deep: true\n    }\n  },\n  methods: {\n    handleExpand () {\n      this.$set(this.data, 'expand', !this.data.expand);\n\n      if (this.tree) {\n        this.tree.emitEvent('on-toggle-expand', this.data);\n      }\n    },\n    handleCheck (checked) {\n      this.updateTreeDown(this.data, checked);\n\n      if (this.tree) {\n        this.tree.emitEvent('on-check-change', this.data);\n      }\n    },\n    updateTreeDown (data, checked) {\n      this.$set(data, 'checked', checked);\n\n      if (data.children && data.children.length) {\n        data.children.forEach(item => {\n          this.updateTreeDown(item, checked);\n        });\n      }\n    }\n  }\n}\n</script>\n<style>\n.tree-ul,\n.tree-li {\n  list-style: none;\n  padding-left: 10px;\n}\n.tree-expand {\n  cursor: pointer;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./node.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./node.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./node.vue?vue&type=template&id=2ae83919&\"\nimport script from \"./node.vue?vue&type=script&lang=js&\"\nexport * from \"./node.vue?vue&type=script&lang=js&\"\nimport style0 from \"./node.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"node.vue\"\nexport default component.exports","<template>\n  <div>\n    <tree-node v-for=\"(item, index) in cloneData\"\n               :key=\"index\"\n               :data=\"item\"\n               :show-checkbox=\"showCheckbox\"></tree-node>\n  </div>\n</template>\n\n<script>\nimport TreeNode from './node.vue';\nimport { deepCopy } from '../../utils/assist.js';\n\nexport default {\n  name: 'Tree',\n  components: { TreeNode },\n  props: {\n    data: {\n      type: Array,\n      default () {\n        return [];\n      }\n    },\n    showCheckbox: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      cloneData: []\n    }\n  },\n  created () {\n    this.rebuildData();\n  },\n  watch: {\n    data () {\n      this.rebuildData();\n    }\n  },\n  methods: {\n    rebuildData () {\n      this.cloneData = deepCopy(this.data);\n      // console.log(this.cloneData)\n    },\n    emitEvent (eventName, data) {\n      this.$emit(eventName, data, this.cloneData);\n    }\n  }\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tree.vue?vue&type=template&id=b8e1d32a&\"\nimport script from \"./tree.vue?vue&type=script&lang=js&\"\nexport * from \"./tree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"tree.vue\"\nexport default component.exports"],"sourceRoot":""}